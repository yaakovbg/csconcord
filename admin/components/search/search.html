<div id="wrapper">
    <header></header>

    <div id="page-wrapper">

        <div class="row">
            <h1 class="page-header">Search</h1>
        </div>


        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">

                    <!-- /.panel-heading -->
                    <div class="panel-body">

                        <div class="row">
                            <div class="col-lg-4">
                                <span class="form-group">
                                    <label>Search
                                        <input type="text" class="form-control" ng-model="params.search" >
                                    </label>
                                </span>
                                <span class="btn btn-info btn-file" ng-click="searchf()">
                                    Search
                                </span>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label>Number Per Page
                                        <input type="number" class="form-control" ng-model="params.numPerPage">
                                    </label>
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <h2>Filter Options</h2>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label>Articles</label>  
                                    <span class="btn btn-info btn-file" ng-click="params.chosenArticles = [];">
                                        clear
                                    </span>
                                    <select class="form-control" multiple ng-model="params.chosenArticles"
                                            ng-options="option.title for option in articles track by option.id"
                                            >
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label>Groups</label> 
                                    <span class="btn btn-info btn-file" ng-click="params.chosenGroups = [];">
                                        clear
                                    </span>
                                    <select class="form-control" multiple ng-model="params.chosenGroups"
                                            ng-options="option.name for option in groups track by option.id"
                                            >
                                    </select>
                                </div>
                            </div>


                            <div class="col-lg-12">
                                <pagination total-items="articleWords.total_rows" ng-model="params.page" max-size="maxSize" num-pages="articleWords.numberOfPages" items-per-page="params.numPerPage" class="pagination-sm" boundary-links="true" rotate="false"></pagination>

                            </div>
                            <div class="col-lg-12">
                                Total:{{articleWords.total_rows}}
                            </div>
                            <div class="col-lg-12">

                                <div class="table-responsive">



                                    <table class="table table-striped table-bordered table-hover">
                                        <thead>
                                            <tr>
                                                <th>#</th>

                                                <th ng-click="sort('name')" style="cursor:pointer">Word  <span class="fa fa-angle-down" ng-if="params.order.name == 'asc'"> </span><span class="fa fa-angle-up" ng-if="params.order.name == 'desc'"> </span></th>


                                                <th  style="cursor:pointer"> Context<span class="fa fa-angle-down" ng-if="params.order.pointsTime == 'asc'"> </span><span class="fa fa-angle-up" ng-if="params.order.pointsTime == 'desc'"> </span></th>
                                                <th  style="cursor:pointer"> Article<span class="fa fa-angle-down" ng-if="params.order.pointsTime == 'asc'"> </span><span class="fa fa-angle-up" ng-if="params.order.pointsTime == 'desc'"> </span></th>
                                                <th  style="cursor:pointer"> Paragraph<span class="fa fa-angle-down" ng-if="params.order.pointsTime == 'asc'"> </span><span class="fa fa-angle-up" ng-if="params.order.pointsTime == 'desc'"> </span></th>
                                                <th  style="cursor:pointer"> Position<span class="fa fa-angle-down" ng-if="params.order.pointsTime == 'asc'"> </span><span class="fa fa-angle-up" ng-if="params.order.pointsTime == 'desc'"> </span></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ui-sref="article({aid:data.articleid,search:data.word})"   ng-repeat="data in articleWords.rows" style="cursor: pointer;">
                                                <td  >{{data.id}}</td>


                                                <td>{{data.word}}</td>
                                                <td ng-bind-html="trustHtml(data.context)"></td>
                                                <td>{{articlesMap[data.articleid].title}}</td>
                                                <td>{{data.paragraphNumber}}</td>
                                                <td>{{data.paragraphWordPosition}}</td>


                                            </tr>
                                        </tbody>
                                    </table>

                                </div><!-- /.table-responsive -->

                            </div>
                            <div class="col-lg-12">
                                <pagination total-items="articleWords.total_rows" ng-model="params.page" max-size="maxSize" num-pages="articleWords.numberOfPages" items-per-page="params.numPerPage" class="pagination-sm" boundary-links="true" rotate="false"></pagination>

                            </div>
                        </div>
                    </div>
                    <!-- /.panel-body -->
                </div><!-- /.panel -->

            </div>
            <!-- /.col-lg-12 -->
        </div>
        <!-- /.col-lg-6 -->
    </div>

</div>

